<!doctype html><script>const api_key="https://api.steinhq.com/v1/storages/6336ba2ad27cdd09f0c1fdbc"; const user='unknown';</script><html lang="en"> <head> <title>Scale-communicator</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <style>@import url(https://fonts.googleapis.com/css2?family=Fredoka+One&family=Signika:wght@600&display=swap);#back,.area{position:fixed}body{overflow-x:hidden;overflow-y:hidden;background-color:var(--c1)}:root{--c1:#1E1E24;--c2:#20A39E;--c3:#EF5B5B;--c4:#7692FF;--c5:#F1F1F1;--f2:'Fredoka One',serif;--f3:'Signika',sans-serif}*{color:var(--c1);position:relative;transition:.6s;border-radius:5px;outline-color:var(--c3)}#back{font-size:20px;z-index:10000;bottom:0;right:0}.area{background:var(--c1);background:-webkit-linear-gradient(to left,#8f94fb,#4e54c8);width:102%;height:102%;z-index:-10000!important;top:0;left:0;margin:0;padding:0}.circles{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.circles li{position:absolute;display:block;list-style:none;width:20px;height:20px;background:var(--c5);animation:25s linear infinite animate;bottom:-150px;font-family:var(--f3);font-size:30px}.circles li:first-child{left:25%;width:80px;height:80px;animation-delay:0s}.circles li:nth-child(2){left:10%;width:70px;height:70px;animation-delay:2s;animation-duration:10s}.circles li:nth-child(3){left:70%;width:60px;height:60px;animation-delay:4s}.circles li:nth-child(4){left:40%;width:60px;height:60px;animation-delay:0s;animation-duration:15s}.circles li:nth-child(5){left:65%;width:70px;height:70px;animation-delay:0s}.circles li:nth-child(6){left:75%;width:60px;height:60px;animation-delay:3s}.circles li:nth-child(7){left:35%;width:90px;height:90px;animation-delay:20s}.circles li:nth-child(8){left:50%;width:80px;height:80px;animation-delay:15s;animation-duration:10s}.circles li:nth-child(9){left:20%;width:70px;height:70px;animation-delay:2s;animation-duration:8s}@keyframes animate{0%{transform:translateY(-1000px);opacity:.7;border-radius:10px;background-color:var(--c4)}100%{transform:translateY(0);background-color:var(--c2);opacity:.7}}html{scroll-behavior:smooth}@media only screen and (orientation:portrait){button,p,textarea{font-family:var(--f3)}#fill,#table{display:grid}#display,#own{background-color:var(--c5);display:flex}#info,#own{height:100px}#ctrl button,#fill button:nth-child(3),#own button,#page button:nth-child(3){background-color:var(--c2)}#fill,#history,#info,#table{position:relative}#fill button,#history,#own textarea{background-color:transparent}#rotate{display:none}body{background-color:var(--c1)}p,textarea{font-size:20px}#page,#page button,button{font-size:40px}button{border:0;border-radius:2px;margin:3px}#page{padding:auto;font-family:var(--f2);background-color:var(--c5);border-radius:5px;margin:75% 18px;z-index:10;opacity:.8}#page button{opacity:1;padding:10px;width:70%;font-family:var(--v2);margin:5px;border:0;border-radius:5px}#fill button:first-child,#page button:nth-child(2){background-color:var(--c4)}#page button:nth-child(3){margin-bottom:15px}#chords,#messages{padding:10px}#fill button{border:0;padding:10px;margin:3px}#fill button:nth-child(2){background-color:var(--c5)}#fill button:nth-child(3){padding:0}#fill{margin:10px auto auto;grid-template-columns:33.33% 45.67% 21%}#table{grid-template-columns:repeat(3,1fr)}#table button{background-color:var(--c5);padding:10px}.sym{background-color:var(--c3)!important}#messages button{font-size:25px;width:98.5%;padding:10px 0;height:100px}#messages button:first-child,#messages button:nth-child(3){border-bottom:5px var(--c2) solid}#messages button:nth-child(2),#messages button:nth-child(4){border-bottom:5px var(--c4) solid}#own{margin:0 10px}#own textarea{width:80%;max-height:85%;margin:0;border:none;outline:0;font-size:x-large;padding:10px}#own button{margin:0;border-radius:0 2px 2px 0!important}#display{margin:100px 0 0;width:90%;height:350px;color:var(--c1);flex-direction:column-reverse;border-radius:50px 50px 0 0;border-top:15px var(--c2) solid}#info{bottom:360px;width:90%;align-items:space-between;justify-items:space-between}#ctrl button{border-radius:0 0 100% 100%;width:90%;margin:0 10px}#info img{width:70px;height:70px}#scalepad{font-size:20px;z-index:10000;position:fixed;bottom:0;left:0}#fill,#table{bottom:-500px}#history{z-index:10000;height:230px;width:90%;bottom:50px;overflow:hidden;padding:5px}#history p{color:var(--c5);font-size:30px;padding:3px 0;margin:0}#display p{font-size:30px;padding:30px 0}}@media only screen and (orientation:landscape){#back,#get,#page,#send{display:none}#rotate{padding:140px 20px}#rotate p{font-size:30px;color:var(--c5);font-family:var(--f2)}}</style> </head> <body> <center> <div id="rotate"> <p>Rotate your device to portrait</p></div><section class="area"> <ul class="circles"> <li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul> </section> <section id="page"> <P><br>Select your role</P> <button id="sendB">Send</button> <button id="getB">Get</button> </section> <section id="send"> <div id="chords"> <div id="messages"> <button onClick="send('v+')">Increase the volume</button> <button onClick="send('v-')">Decrease the volume</button> <button onClick="send('t+')">Increase the Tempo</button> <button onClick="send('t-')">Decrease the Tempo</button> </div><div id="own"> <textarea placeholder="Send a custom message" id="own" name="own"></textarea><button onClick="send('send')">➡️</button> </div><div id="fill"> <button id="note" onClick="add('m')">m</button> <button id="noteDisp"></button> <button onClick="send('ok')">✅</button> </div><div id="table"> <button onClick="add('C')">C</button> <button onClick="add('D')">D</button> <button onClick="add('E')">E</button> <button onClick="add('F')">F</button> <button onClick="add('G')">G</button> <button onClick="add('A')">A</button> <button class="sym" onClick="add('#')">#</button> <button onClick="add('B')">B</button> <button class="sym" onClick="add('♭')"><b>♭</b></button> </div><button id="scalepad">Scale-pad</button> </div></section> <section id="get" class="not"> <div id="display"> <p>No recent messages!</p></div><div id="ctrl"> <button>Start</button> </div><div id="info"> <img src='https://icons.alexmattyou.repl.co/notes-c/d.svg'> <p>Press the start to run</p></div><div id='history'></div></section> </center> <button id='back' onClick='back()'>Reload</button> </body> <script src="https://unpkg.com/stein-js-client"></script> <script>const store=new SteinStore(api_key);</script> <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script> <script>let history=[],hist=history.reverse(),run=0,val="";$("#get").css("left","700px"),$("#get").hide(),$("#send").css("right","700px"),$("#send").hide(),$("#sendB").click(function(){$("#back").html("Back"),$("#send").show(),$("#send").css("right","0"),$(".area").hide(),$("#page").hide()}),$("#getB").click(function(){$("#back").html("Back"),$("#get").show(),$("#get").css("left","0"),$(".area").hide(),$("#page").hide()}),$("#scalepad").click(function(){"Close"==$("#scalepad").html()?($("#scalepad").html("Scale-pad"),$("#fill, #table").css("bottom","-500px"),$("#messages button").css("height","100px")):($("#scalepad").html("Close"),$("#fill, #table").css("bottom","0"),$("#messages button").css("height","60px"))}),$("#ctrl button").click(function(){"Start"==$("#ctrl button").html()?($("#ctrl button").html("Stop"),$("#ctrl button").css("background-color","var(--c3)"),$("#display").css("border-color","var(--c3)"),get_run(),run=1,$("#info").html("<img src='https://icons.alexmattyou.repl.co/notes-c/comment.svg'><p>Wait for the sender</p>")):($("#ctrl button").html("Start"),$("#ctrl button").css("background-color","var(--c2)"),$("#display").css("border-color","var(--c2)"),get_run(),run=0,$("#info").html("<img src='https://icons.alexmattyou.repl.co/notes-c/d.svg'><p>Press the start to run</p>"))});let data="",gotData="";function send(t){switch(t){case"v+":data="Increase the Volume";break;case"v-":data="Decrease the Volume";break;case"t+":data="Increase the Tempo";break;case"t-":data="Decrease the Tempo";break;case"ok":data="Change the scale to: "+$("#noteDisp").html();break;case"send":data=$("#own textarea").val()}sendAPI(data)}function sendAPI(t){store.edit("Sheet1",{search:{x:user},set:{message:t,update:1}}).then(t=>{1!==t.totalUpdatedRows&&(alert("ERROR:\nUnable to send data"),$("#info").html("<img src='https://icons.alexmattyou.repl.co/notes-c/error.svg'><p>Error, can't receive data</p>"))})}function readAPI(){store.read("Sheet1",{limit:1,offset:1}).then(t=>{gotData=t[0],void 0===t&&alert("ERROR:\nUnable to receive data")})}let kkey=2;function get_run(){setTimeout(function(){if(0!=run){if(readAPI(),(void 0!=gotData.update||0!=gotData.update)&&"1"==gotData.update){for(i in history.push(gotData.message),1===kkey?(history.pop(),kkey=2):kkey-=1,val="",hist)val="<p>"+hist[i]+"</p>"+val;$("#history").html(val),$("#display p").html(gotData.message),$("#info").html("<img src='https://icons.alexmattyou.repl.co/notes-c/d.svg'><p>Press the Stop when unused</p>"),$("body").css("background-color","var(--c5)"),setTimeout(function(){$("body").css("background-color","var(--c1)")},500),"1"==gotData.update&&store.edit("Sheet1",{search:{x:user},set:{update:0}}).then(()=>{gotData.update=0})}get_run()}},2e3)}let scale=["","",""];function add(t){"m"==t?"m"==$("#note").html()?($("#note").html("M"),scale[2]="m"):($("#note").html("m"),scale[2]=""):"#"==t||"♭"==t?""==scale[1]?scale[1]=t:scale[1]==t?scale[1]="":scale[1]=t:scale[0]=t,$("#noteDisp").html(scale[0]+scale[1]+scale[2])}function back(){location.reload()}</script></html>